{% extends 'base.html' %}

{% block title %}
    Profile |
{% endblock title %}

{% block content %}
<div class="px-[10vw] sm:px-[20vw] md:px-[30vw]">
    <h1 class="font-bold text-3xl mb-5 text-center">Your Profile</h1>
    <form
        id="profile-form"
        action="#"
        class="flex flex-col space-y-5 mb-2"
        x-data="{edit: false}">
        <span class="flex flex-col space-y-3">
            <label for="first_name">First name</label>
            <input required type="text" name="first_name" id="first_name"
                class="text-sm border-[--secondary] border-2 rounded-lg block w-full p-2.5 bg-[--background-darker] placeholder-gray-600 disabled:cursor-not-allowed disabled:text-gray-600"
                value="{{user.first_name}}"
                x-bind:disabled="!edit">    
        </span>
        <span class="flex flex-col space-y-3">
            <label for="last_name">Last name</label>
            <input required type="text" name="last_name" id="last_name"
                class="text-sm border-[--secondary] border-2 rounded-lg block w-full p-2.5 bg-[--background-darker] placeholder-gray-600 hover:cursor-text disabled:cursor-not-allowed disabled:text-gray-600"
                value="{{user.last_name}}"
                x-bind:disabled="!edit">    
        </span>
        <span class="flex flex-col space-y-3">
            <label for="email">Email</label>
            <input required type="email" name="email" id="email"
                class="text-sm border-[--secondary] border-2 rounded-lg block w-full p-2.5 bg-[--background-darker] placeholder-gray-600 hover:cursor-text disabled:cursor-not-allowed disabled:text-gray-600"
                value="{{user.email}}"
                x-bind:disabled="!edit">    
        </span>
        <!-- <span class="flex flex-col space-y-3">
            <label for="password">Password</label>
            <input required type="password" name="password" id="password" class="text-sm rounded-lg block w-full p-2.5 bg-[--background] placeholder-gray-600hover:cursor-text">
        </span>
        <span class="flex flex-col space-y-3">
            <label for="password">Password again</label>
            <input required type="password" name="password2" id="password2" class="text-sm rounded-lg block w-full p-2.5 bg-[--background] placeholder-gray-600hover:cursor-text">
        </span> -->
        <a type="button" 
            class="flex justify-center w-full p-4 rounded-md bg-[--secondary] hover:origin-top hover:translate-y-[-3px] transition transform duration-200 ease-in-out hover:cursor-pointer"
            x-on:click="edit=true"
            x-show="!edit">
            <span class="flex">
                Edit
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ml-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" />
                </svg> 
            </span>
        </a>
        <a type="submit" 
            class="justify-center w-full p-4 rounded-md bg-[--primary] text-[--text-dark] hover:origin-top hover:translate-y-[-3px] transition transform duration-200 ease-in-out hover:cursor-pointer"
            x-bind:class="edit ? 'flex' : 'hidden'"
            hx-post="{% url 'profile_view' %}"
            hx-select="#profile-form"
            hx-target="#profile-form"
            hx-swap="outerHTML">
            <span class="flex">
                Save
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ml-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z" />
                </svg>                   
            </span>
        </a>
        <a type="button" 
            class="justify-center w-full p-4 rounded-md bg-[--secondary] text-[--text] hover:origin-top hover:translate-y-[-3px] transition transform duration-200 ease-in-out hover:cursor-pointer"
            x-on:click="edit=false"
            x-bind:class="edit ? 'flex' : 'hidden'">
            <span class="flex">
                Cancel
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ml-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" />
                </svg>
            </span>
        </a>
    </form>
</div>
{% endblock content %}